<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Tue, Dec 05, 2006 at 08:13:33AM +0100, Sander van Dijk wrote:
&gt; Not sure about the details, but if I'm not mistaken this has something
&gt; to do with font 'subsets' (that's probably not the right word). From
&gt; what I understand, there are some character subsets defined for utf-8,
&gt; and a font may support some, but not all of them. I believe xterm just
&gt; uses whatever the font provides, ignoring what it doesn't provide,
&gt; while dwm discards the font's abilities entirely if it doesn't support
&gt; all subsets. wmii worked this way too, but was recently patched to
&gt; allow 'half utf-8 capable' fonts to work.
&gt; 
&gt; Note that I don't really know what I'm talking about here, this is
&gt; just what I understood from a thread on the wmii mailinglist, I *may*
&gt; have gotten it completely wrong.</pre><pre>

I'm not sure if it might solve the problem dmtry noticed, but
attached patch will enforce to use the specified font even if
necessary font sets are missing. dmtry let me know if you get
better results with this patch applied (though I doubt it,
better is to uncomment the missing fontsets reported by dwm in
your ru_RU.UTF-8/XLC_LOCALE file... but well. 

For wmii, afair the patch Daniel Baumann supplied for Debian
is the opposite of the patch I applied (which means the default
of dwm)...

Regards,
-- 
 Anselm R. Garbe &gt;&lt; <a  rel="nofollow" href="http://suckless.org/~arg/">http://suckless.org/~arg/</a> &gt;&lt; GPG key: 0D73F361
</pre><pre>diff -r 762c339325b3 draw.c
--- a/draw.c    Mon Dec 04 21:01:14 2006 +0100
+++ b/draw.c    Tue Dec 05 08:43:12 2006 +0100
@@ -179,7 +179,7 @@ setfont(const char *fontstr) {
                while(n--)
                        fprintf(stderr, &quot;missing fontset: %s\n&quot;, missing[n]);
                XFreeStringList(missing);
-               if(dc.font.set) {
+               if(0 &amp;&amp; dc.font.set) {
                        XFreeFontSet(dpy, dc.font.set);
                        dc.font.set = NULL;
                }
</pre>

</div>
